include_directories(${PROJECT_BINARY_DIR}/src/lib/fcitx)
include_directories(${XCB_INCLUDE_DIRS})
add_library(fcitx-xcb MODULE xcbmodule.c)
target_link_libraries(fcitx-xcb Fcitx::Core)
set_target_properties(fcitx-xcb PROPERTIES PREFIX "")
fcitx5_merge_config_translation(fcitx-xcb.conf.in fcitx-xcb.conf)
install(TARGETS fcitx-xcb DESTINATION ${FCITX_INSTALL_ADDONDIR})
install(FILES "${CMAKE_CURRENT_BINARY_DIR}/fcitx-xcb.conf" DESTINATION ${CMAKE_INSTALL_DATADIR}/addon)
